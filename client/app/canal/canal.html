<div ng-include="'components/navbar/header.html'"></div>
<div ng-include="'components/navbar/navbar.html'"></div>
<div ng-include="'components/navbar/onglet.html'"></div>
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <!-- PARTIE COMPARAISON-->
                    <div class="row" ng-if="selection.canal.comparaison[0]" ng-model="selection.canal.comparaison">
                        <div ng-if="view_value">
                            <div class="col-xs-3" ng-if="templateCas1 || templateCas2">
                                <div class="row grosTitre firsttitleComparaison" >
                                    <p>INDICATEURS GLOBAUX<br/>
                                    <span class="smalltitle">(Comparaison des supports)</span></p>
                                </div>
                                <div class="row indic ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="q in questions">
                                    {{q.libel_appli_1}}<br/><span class="under-indic">{{q.libel_appli_2}}</span>
                                </div>
                            </div>
                            <div class="col-xs-3" ng-if="templateCas3 || templateCas4">
                                <div class="row grosTitre comparationTitle" >
                                    <p>INDICATEURS GLOBAUX<br/>
                                    <span class="smalltitle">(Comparaison des supports)</span></p>
                                </div>
                                <div class="row indic ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="q in questions">
                                    {{q.libel_appli_1}}<br/><span class="under-indic">{{q.libel_Donnees}}</span>
                                </div>
                            </div>
                            <div class="col-xs-1 templateCas1Comparaison" ng-if="templateCas1" ng-repeat="tab in selection.canal.comparaison[0].tab">
                                    <div class="row">
                                        <div class= "row monthComparaison" >{{tab.nom}}</div>
                                    </div>
                                    <div class="row">
                                        <div class="row ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in tab.col track by $index">
                                            {{col}}
                                        </div>
                                    </div>
                            </div>
                            <div class="col-xs-2" ng-if="templateCas2" ng-repeat="tab in selection.canal.comparaison[0].tab">
                                <div class="col-xs-12">
                                    <div class="row">
                                        <div class= "col-xs-12 monthComparaison" >{{tab.nom}}</div>
                                    </div>
                                    <div class="row" >
                                        <div class="col-xs-9">
                                            <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in tab.col track by $index">{{col}}</div>
                                        </div>
                                        <div class="col-xs-2">
                                            <div class="hauteurDefault ligneBottom" ng-repeat="evo in tab.evo track by $index">
                                                <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-4" ng-if="templateCas3" ng-model="selection.canal.comparaison[0].tab">
                                <div class="col-xs-12">
                                    <div class="row" >
                                        <div class= "col-xs-4">
                                            <div class="row">
                                                <div class= "col-xs-12 top-tab-active-0 moyenTitre" >{{selection.canal.comparaison[0].tab[0].nom}}</div>
                                            </div>
                                            <div class="row" >
                                                <div class="col-xs-8">
                                                    <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[0].col track by $index">{{col}}</div>
                                                </div>
                                                <div class="col-xs-3">
                                                    <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[0].evo track by $index">
                                                        <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                        <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                        <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                        <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>  
                                        <div class="col-xs-8">
                                            <div class="row">
                                                <div class="col-xs-12 top-tab-active-1a">{{selection.prestataire_value1.Prestataire_Libel}}</div>
                                            </div>
                                            <div class="row">
                                                <div class= "col-xs-6">
                                                    <div class="row">
                                                        <div class= "col-xs-12 top-tab-active-1b">{{selection.canal.comparaison[0].tab[1].nom}}</div>
                                                    </div>
                                                    <div class="row" >
                                                        <div class="col-xs-8">
                                                            <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[1].col track by $index">{{col}}</div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[1].evo track by $index">
                                                                <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                            
                                                <div class= "col-xs-6">
                                                    <div class="row">
                                                        <div class= "col-xs-12 top-tab-active-1b gris">{{selection.canal.comparaison[0].tab[2].nom}}</div>
                                                    </div>
                                                    <div class="row" >
                                                        <div class="col-xs-8">
                                                            <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[2].col track by $index">{{col}}</div>
                                                        </div>
                                                        <div class="col-xs-3">
                                                            <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[2].evo track by $index">
                                                                <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-4" ng-if="templateCas4" ng-model="selection.canal.comparaison[0].tab">
                                <div ng-if="templateCas4" class="col-xs-12" ng-model="selection.canal.comparaison[0].tab">
                                    <div class="row" >
                                        <div class= "col-xs-3">
                                                <div class="row">
                                                    <div class= "col-xs-12 top-tab-active-0bis moyenTitrebis" >{{selection.canal.comparaison[0].tab[0].nom}}</div>
                                                </div>
                                                <div class="row" >
                                                    <div class="col-xs-7">
                                                        <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[0].col track by $index">{{col}}</div>
                                                    </div>
                                                    <div class="col-xs-2">
                                                        <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[0].evo track by $index">
                                                            <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                            <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                            <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                            <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                        </div>
                                                    </div>
                                            </div>
                                        </div>  
                                        <div class="col-xs-9">
                                            <div class="row">
                                                <div class="col-xs-12 top-tab-active-1abis">{{selection.prestataire_value1.Prestataire_Libel}}</div>
                                            </div>
                                            <div class="row">
                                                <div class= "col-xs-4">
                                                    <div class="row">
                                                        <div class= "col-xs-12 top-tab-active-1bis">{{selection.canal.comparaison[0].tab[1].nom}}</div>
                                                    </div>
                                                    <div class="row" >
                                                        <div class="col-xs-7">
                                                            <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[1].col track by $index">{{col}}</div>
                                                        </div>
                                                        <div class="col-xs-2">
                                                            <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[1].evo track by $index">
                                                                <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>                             
                                                <div class= "col-xs-8">
                                                    <div class="row">
                                                        <div class= "col-xs-12 top-tab-active-1abis gris">{{selection.prestataire_value2.Prestataire_Libel}}</div>
                                                    </div>                                
                                                    <div class="row">
                                                        <div class= "col-xs-6">
                                                            <div class="row">
                                                                <div class= "col-xs-12 top-tab-active-1abis gris">{{selection.canal.comparaison[0].tab[2].nom}}</div>
                                                            </div>
                                                            <div class="row" >
                                                                <div class="col-xs-7">
                                                                    <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="col in selection.canal.comparaison[0].tab[2].col track by $index">{{col}}</div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[2].evo track by $index">
                                                                        <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                        <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                        <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                        <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class= "col-xs-6">
                                                            <div class="row">
                                                                <div class= "col-xs-12 top-tab-active-1abis grisClair">{{selection.canal.comparaison[0].tab[3].nom}}</div>
                                                            </div>
                                                            <div class="row" >
                                                                <div class="col-xs-7">
                                                                    <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}" ng-repeat="col in selection.canal.comparaison[0].tab[3].col track by $index">{{col}}</div>
                                                                </div>
                                                                <div class="col-xs-2">
                                                                    <div class="hauteurDefault" ng-repeat="evo in selection.canal.comparaison[0].tab[3].evo track by $index">
                                                                        <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                        <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                        <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                        <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div  ng-if="view_value" class="testOverflow">
                                <div ng-if="(selection.canal.comparaison[1]) && ($index !== 0)" ng-repeat="comparaison in selection.canal.comparaison track by $index" class="col-xs-2 marginMinusLeft ">
                                    <div class="col-xs-12">
                                        <div ng-if="templateCasCheck4" class="col-xs-12" ng-model="comparaison.tab">
                                            <div class="row" >
                                                <div class="col-xs-12">
                                                    <div class="row">                         
                                                        <div class= "col-xs-12">
                                                            <div class="row">
                                                                <div class="col-xs-12 top-tab-active-1abis">{{selection.prestataire_value1.Prestataire_Libel}}</div>
                                                            </div>
                                                            <div class="row">
                                                                <div class= "col-xs-12 top-tab-active-1abis gris">{{selection.prestataire_value2.Prestataire_Libel}}</div>
                                                            </div>                                
                                                            <div class="row">
                                                                <div class= "col-xs-12">
                                                                    <div class="row">
                                                                        <div class= "col-xs-12 top-tab-active-1abis grisClair">{{comparaison.tab[3].nom}}</div>
                                                                    </div>
                                                                    <div class="row" >
                                                                        <div class="col-xs-8">
                                                                            <div class="ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}" ng-repeat="col in comparaison.tab[3].col track by $index">{{col}}</div>
                                                                        </div>
                                                                        <div class="col-xs-3">
                                                                            <div class="hauteurDefault" ng-repeat="evo in comparaison.tab[3].evo track by $index">
                                                                                <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                                <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                                                                <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                                                                <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                <!-- VU COMPARAISON BAR -->
                <ul ng-if="!view_value" rn-carousel rn-carousel-index="slideIndex" rn-carousel-transition="hexagon"  rn-carousel-easing class="image" rn-carousel-controls><br>
                    <li>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="firsttitle">
                                    INDICATEURS CLEFS
                                </div>
                            </div>
                            <div class="col-xs-9">
                                <div class="topflop">
                                    SATISFACTION GLOBALE
                                </div>
                            </div>
                        </div><br>
                    </li>
                    <li>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="firsttitle">
                                    INDICATEURS CLEFS
                                </div>
                            </div>
                            <div class="col-xs-9">
                                <div class="topflop">
                                    RESOLUTION DE LA DEMANDE
                                </div>
                            </div>
                        </div><br>
                    </li>
                    <li>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="firsttitle">
                                    INDICATEURS CLEFS
                                </div>
                            </div>
                            <div class="col-xs-9">
                                <div class="topflop">
                                    RECOMMANDATION
                                </div>
                            </div>
                        </div><br>
                    </li>
                    <li>
                        <div class="row">
                            <div class="col-xs-3">
                                <div class="firsttitle">
                                    INDICATEURS CLEFS
                                </div>
                            </div>
                            <div class="col-xs-9">
                                <div class="topflop">
                                    CES - CUSTOMER EFFORT SCORE
                                </div>
                            </div>
                        </div><br>
                    </li>
                </ul>
                <ul ng-if="!view_value"><br><br>
                    <div id="tpl-content" ng-include src="currentTpl"></div>
                </ul>
            </div>
            <!-- VU EVOLUTION TABLEAU -->
            <div class="row" ng-if="selection.evolution">
                <div class="row">
                    <div class="row">
                        <div class="col-xs-push-4 col-xs-7">
                            <div class="row">
                                <div class="col-xs-2 firsttitle">&nbsp;</div>
                                <div class="col-xs-12 top-tab-active">{{selection.prestataire_value1.Prestataire_Libel}} | {{selection.prestataire_value2.Prestataire_Libel}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-4">
                            <div class="row grosTitre firsttitle" >
                                <p>INDICATEURS GLOBAUX<br/>
                                <span class="smalltitle">(Evolution sur les 6 derniers mois)</span></p>
                            </div>
                            <div class="row indic ligneBottom"  ng-class="{'ligneBottomEff': $index === 0}" ng-repeat="q in questions">
                                {{q.libel_appli_1}}<br/><span class="under-indic">{{q.libel_appli_2}}</span>
                            </div>
                        </div>
                        <div class="col-xs-7">
                            <div class="row">
                                <div class= "col-xs-2 month" ng-repeat="evolution6Mois in selection.canal.evolution6Mois | orderBy:'key':true ">{{evolution6Mois.nom}}</div>
                            </div>
                            <div class="row" >
                                <div class="col-xs-2" ng-repeat="evolution6Mois in selection.canal.evolution6Mois track by $index">
                                    <div class="row ss-num-active-black ligneBottom" ng-class="{'ligneBottomEff': $index === 0}"  ng-repeat="mois in evolution6Mois.col track by $index">
                                        {{mois}}
                                    </div>

                                    <div class="col-xs-1">
                                        <div class="hauteurDefault" ng-class="{'ligneBottomEff': $index === 0}" ng-repeat="evo in evolution6Mois.evo track by $index">
                                            <div ng-if="evo == 'NULL'"><img src="../assets/theme/img/up-gray.png"/></div>
                                            <div ng-if="evo == '>'"><img src="../assets/theme/img/up-green.png"/></div>
                                            <div ng-if="evo == '<'"><img src="../assets/theme/img/down-red.png"/></div>
                                            <div ng-if="evo == '=='"><img src="../assets/theme/img/up-gray.png"/></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




<div ng-include="'components/navbar/footer.html'"></div>
<script type="text/ng-template" id="/tpl.html"> 
<div ng-repeat = "comparaison in selection.canal.comparaison">
    <div ng-repeat = "bar in comparaison.bar">

        <div class="row">
            <div class="col-xs-3">
                <div class="service-1">
                    {{bar.nom}}
                </div>
            </div>
            <div class="col-xs-7">
                <div class="note-1">
                   <highchart id="chart1" config='bar.chartConfig'></highchart>
                </div>
            </div>
            <div class="col-xs-2">
                <div class="note-plus">
                    {{bar.P6}}
                </div>
            </div>
        </div>
    </div>
</div>

</script>
